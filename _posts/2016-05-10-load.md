---
layout:     post
title:      " addLoadEvent()"
subtitle:   " \"load\""
date:       2016-05-10 14:00:00
author:     "Gsw"
header-img: "img/post2.jpg"
tags:
    - JavaScript
---
> addLoadEvent():详解

[addLoadEvent](http://blog.csdn.net/zh592677127/article/details/8055589)

```javascript
function addLoadEvent(func){
        var oldonload = window.onload;
        if (typeof window.onload != "function") {
            window.onload = func;
        }
        else {
            window.onload = function(){
		if(oldonload){
		    oldonload();
		}
                func();
            }
        }
    }
    ```

//先判断之前有没有通过window.onload调用函数，所以用typeof判断window.onload的类型.

//如没有调用，typeof window.onload != "function"返回的ture，执行window.onload = func;即window.onload先调用你的函数newFunc();

//反之window.onload调用了函数，那么第一句的变量oldonload的值也就是被调用的函数A()了，判断window.onload调用了函数，typeof window.onload != "function"返回的就是false;执行window.onload = function(){oldonload();func();},那么window.onload调用的就是一个匿名函数，这个匿名函数就会先调用oldonload()函数(也就是A()函数)，再调用你的newFunc()函数。　


addLoadEvent函数主要是完成如下的操作： 

1、把现有的window.onload事件处理函数的值存入到oldonload中。 

2、如果在这个处理函数上还没有绑定任何函数，就将该函数添加给它。 

3、如果在这个处理函数上已经绑定了一些函数，就把该函数追加到现有指定的末尾。