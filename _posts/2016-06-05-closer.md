---
layout: post
title:  "闭包"
date:   2016-06-05 14:35:23 +0800
tags: JavaScript
---
#### 闭包

```javascript
function f() {
	var a =[];
	var i;
	for(i=0; i<3; i++){
		a[i] = function(){
			return i;
		}
	}
	return a;
}
```
方法一：立即调用函数 + 返回函数的函数

```javascript
function f() {
	var a =[];
	var i;
	for(i=0; i<3; i++){
		a[i] = （function(x){
			return function(){
				return x;
			}
		})(i);
	}
	return a;
}
```

方法二：辅助函数 + 返回函数的函数

```javascript
function f() {
<!--增加私有函数-->
	function helper(x){
		return function(){
			return x;
		}
	}
	var a =[];
	var i;
	for(i=0; i<3; i++){
		a[i] = helper(i);
	}
	return a;
}
```